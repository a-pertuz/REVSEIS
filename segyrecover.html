<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEGYRecover - REV-SEIS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/main.js"></script>
</head>
<body class="SEGYRecover-page">
    <header id="header-component"></header>
    
    <nav id="nav-component"></nav>
    
    <main>
        <div class="main-container">
            <div id="main-content">
                <a href="index.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Documentation Hub</a>
                
                <div class="program-section" id="SEGYRecover" data-tool-type="SEGYRecover">
                    <div class="section-header">
                        <h2>SEGYRecover</h2>
                    </div>
                    <div class="section-content active">
                        <div class="tool-summary">
                            <div class="badge-container">
                                <span class="badge badge-python">Python</span>
                                <span class="badge badge-windows">Windows</span>
                            </div>
                            
                            <p>A Python tool for digitizing scanned seismic sections and converting them to standard SEG-Y format.</p>
                            
                            <div class="quick-links">
                                <a href="https://github.com/a-pertuz/SEGYRecover" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                                <a href="https://zenodo.org/record/your-record-id" target="_blank"><i class="fas fa-database"></i> Zenodo</a>
                            </div>
                        </div>
                        
                        <div class="screenshot" style="max-width: 100%; margin: 1.5rem auto; padding: 10px;">
                            <img src="images/web_segyrecover_intro.png" alt="SEGYRecover Main Interface" style="max-width: 80%; height: auto; display: block; margin: 2rem auto;">
                        </div>

                        <div class="tutorial-layout">
                            <!-- Table of Contents -->
                            <div class="toc-container">
                                <div class="sticky-toc">
                                    <h3>Navigation</h3>
                                    <ul class="toc-list">
                                        <li><a href="#quickstart-guide">Quick Start Guide</a></li>
                                        <li><a href="#first-run">First Run Setup</a></li>
                                        <li><a href="#preparation">Preparation</a></li>
                                        <li><a href="#step1-loading">Step 1: Loading an Image</a></li>
                                        <li><a href="#step2-parameters">Step 2: Setting Parameters</a></li>
                                        <li><a href="#step3-roi">Step 3: Selecting Region of Interest</a></li>
                                        <li><a href="#step4-processing">Step 4: Processing</a></li>
                                        <li><a href="#step5-results">Step 5: Results</a></li>
                                        <li><a href="#menu-options">Menu Options</a></li>
                                        <li><a href="#troubleshooting">Troubleshooting</a></li>
                                        <li><a href="#faq">Frequently Asked Questions</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Main tutorial content -->
                            <div class="tutorial-content">
                                <!-- Integrated Quick Start Guide -->
                                <div class="tutorial-section" id="quickstart-guide">
                                    <h4><i class="fas fa-play-circle"></i> Quick Start Guide</h4>
                                    
                                        <h5>Key Features</h5>
                                        <ul>
                                            <li><strong>Digitization of seismic images</strong> - Convert paper/raster seismic sections into SEG-Y files</li>
                                            <li><strong>User-friendly GUI</strong> - Simple step-by-step workflow with visual guidance</li>
                                            <li><strong>Timeline removal</strong> - Isolates and remove horizontal timelines</li>
                                            <li><strong>Automatic detection</strong> - Identifies individual trace baselines for accurate digitization</li>
                                            <li><strong>Frequency Filter</strong> - Apply bandpass filtering to remove noise and enhance signal quality</li>
                                        </ul>

                                    <h5>Basic Workflow</h5>
                                        <ol>
                                            <li><strong>Load an image</strong>: Select a seismic image file to digitize</li>
                                            <li><strong>Set parameters</strong>: Configure trace-time mapping and processing settings</li>
                                            <li><strong>Select ROI</strong>: Mark the region of interest on the image</li>
                                            <li><strong>Process</strong>: Run digitization and review results</li>
                                            <li><strong>Save</strong>: Output a standard SEG-Y file ready for interpretation</li>
                                        </ol>
                                </div>
                                    
                                
                                <div class="tutorial-section" id="first-run">
                                    <h4><i class="fas fa-power-off"></i> First Run Setup</h4>
                                    
                                    <p>When you run SEGYRecover for the first time, you'll need to set up your data directory:</p>
                                    
                                        <ol>
                                            <li>The First Run Dialog will appear asking you to select a location for your data</li>
                                            <li>Choose a location with plenty of disk space - this is where all your images, parameters, and output files will be stored</li>
                                            <li>Click "OK" to confirm your selection</li>
                                        </ol>
                                    
                                    <div class="screenshot" style="max-width: 400px; margin: 1.5rem auto;">
                                        <img src="images/sr_firstrun.png" alt="SEGYRecover First Run Setup Dialog" style="display: block; width: 100%; margin: 0 auto;">
                                        <p class="caption">First Run Setup Dialog</p>
                                    </div>
                                    
                                    <div class="info-box info-box--note">
                                        <p><i class="fas fa-info-circle"></i> <strong>Note:</strong> The application will automatically create example files in your data directory to help you get started.</p>
                                    </div>
                                    
                                </div>
                                
                                <div class="tutorial-section" id="preparation">
                                    <h4><i class="fas fa-clipboard-list"></i> Preparation</h4>
                                    
                                    <p>Before beginning the digitization process, it's important to organize your files and understand the requirements:</p>
                                    
 
                                        <h5>1. Organize your files</h5>
                                        <ul>
                                            <li>Place all seismic image files you want to digitize in the <code>IMAGES</code> folder</li>        
                                            <li>If you have coordinate information, create corresponding geometry files in the <code>GEOMETRY</code> folder</li>
                                            <li>Ensure geometry files have the same base name as the image files with a <code>.geometry</code> extension</li>

                                            <li>You can access and manage your data directory at any time through the File menu:</li>
                                            <ul>
                                                <li><strong>File → Open Data Directory</strong>: Opens your current data folder in File Explorer</li>
                                                <li><strong>File → Set Data Directory</strong>: Changes the location of your data folder</li>
                                            </ul>
                                        </ul>
                                        
                                        <h5>2. Check supported formats</h5>
                                        <ul>
                                            <li>Image files: TIF, JPG, PNG. Images should be binary, only black or white pixels</li>
                                            <li>Geometry files: Text files with CDP, X, Y coordinates: </li>
                                 
                                        <div class="code-snippet compact" style="max-width: 320px; margin: 0 8px 8px 0; text-align: center;">
                                            <code>CDP_NUMBER X_COORDINATE Y_COORDINATE</code>
                                        </div>
                                        
                                        For example:
                                        <div class="code-snippet compact" style="max-width: 320px; margin: 0 8px 8px 0; text-align: center;">
                                            <code>100 500000.0 4500000.0
101 500025.0 4500020.0
102 500050.0 4500040.0</code>
                                    </div>

                                    <div class="info-box info-box--tip">
                                        <i class="fas fa-lightbulb"></i> <strong>Tip:</strong> You only need the first and last CDP points of your seismic line for proper coordinate assignment. SEGYRecover will interpolate coordinates for all traces in between.
                                    </div>

                                        </ul>
                                        
                                        <h5>3. Verify image quality</h5>
                                        <ul>
                                            <li>Seismic sections should be plotted in variable area / wiggle, with positive amplitude filled in black</li>
                                            <li>Higher resolution images generally yield better results</li>
                                            <li>Minimal annotations overlapping the seismic section is preferable</li>
                                        </ul>
                                    

                                </div>
                                
                                <div class="tutorial-section" id="step1-loading">
                                    <h4><i class="fas fa-file-image"></i> Step 1: Loading an Image</h4>
                                    
                                        <ol>
                                            <li>From the Welcome screen, click the <b>"Start New Line"</b> button</li>
                                            <li>Click the <b>"Load Image"</b> button to select your seismic section file</li>
                                            <li>Navigate to your image and click "Open"</li>
                                            <li>The image will be loaded and displayed in the preview area along with the coordinates file</li>
                                            <li>Once the image is loaded, click "Next" to proceed to the Parameters tab</li>
                                        </ol>
                                    
                                    <div class="screenshot" style="max-width: 800px; margin: 1.5rem auto;">
                                        <img src="images/sr_load.png" alt="SEGYRecover Load Image Tab" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Window for loading the seismic section image</p>
                                    </div>
                                    
                                    <div class="info-box info-box--note">
                                        <i class="fas fa-info-circle"></i> <strong>Note:</strong> The console panel on the right will show details about the loaded image, including its dimensions and file path.
                                    </div>
                                    

                                </div>
                                
                                <div class="tutorial-section" id="step2-parameters">
                                    <h4><i class="fas fa-sliders-h"></i> Step 2: Setting Parameters</h4>
                                    
                                    <p>In this step, you'll configure how the software interprets your seismic image by defining trace and time coordinates, and setting processing parameters.</p>
                                    
                                        <ol>
                                            <li>After loading your image, you'll be automatically taken to the Parameters tab</li>
                                            <li>If parameters were previously saved for this image, they will be loaded automatically</li>
                                            <li>Fill in the parameters in each section as described below</li>
                                            <li>Click <b>"Save Parameters"</b> to store your settings</li>
                                            <li>Click <b>"Next"</b> to proceed to the ROI Selection tab</li>
                                        </ol>
                                    
                                    <div class="screenshot" style="max-width: 800px; margin: 1.5rem auto;">
                                        <img src="images/sr_parameter.png" alt="SEGYRecover Parameter Settings Interface" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Window for entering processing parameters</p>
                                    </div>
                                    
                                    <h4>Region of Interest Corner Points</h4>
                                        <p>These define the region occupied by the seismic section and maps the image pixels to the seismic trace/time coordinates:</p>
                                        <ul>
                                            <li><strong>P1 (Top Left)</strong>: Set Trace number and TWT (Two-Way Time) value</li>
                                            <li><strong>P2 (Top Right)</strong>: Set Trace number and TWT value</li>
                                            <li><strong>P3 (Bottom Left)</strong>: Set Trace number and TWT value</li>
                                        </ul>
                                        
                                        <div class="info-box info-box--example">
                                            <i class="fas fa-lightbulb"></i> <strong>Example:</strong> If your seismic image shows:
                                            <ul>
                                                <li>Top left corner (P1): Trace 100 at 0 ms</li>
                                                <li>Top right corner (P2): Trace 500 at 0 ms</li>
                                                <li>Bottom left corner (P3): Trace 100 at 3000 ms</li>
                                            </ul>
                                            
                                        </div>
                                        
                                        <div class="info-box info-box--note">
                                            <i class="fas fa-info-circle"></i> <strong>Note:</strong> For data above datum, you can use negative time values (e.g., -200 ms)
                                        </div>
                                    
                                    <h4>Acquisition Parameters</h4>
                                    <ul>
                                        <li><strong>Sample Rate (ms)</strong>: Time between data points (common values: 2 or 4 ms)</li>
                                        <li><strong>Frequency Band (Hz)</strong>: Four values that define the bandpass filter:
                                            <ul>
                                                <li>F1: Start cutting off below this frequency</li>
                                                <li>F2: Keep everything above this frequency</li>
                                                <li>F3: Keep everything below this frequency</li>
                                                <li>F4: Start cutting off above this frequency</li>
                                            </ul>
                                        </li>
                                    </ul>
                                    
                                    <div class="info-box info-box--example">
                                        <p><i class="fas fa-lightbulb"></i><strong> Common values:</strong></p>
                                        <ul>
                                            <li>For vintage seismic data: F1=8, F2=12, F3=60, F4=80</li>
                                            <li>For modern data: F1=3, F2=5, F3=80, F4=100</li>
                                        </ul>
                                        Original acquisition frequencies are usually found in the seismic section image headers.
                                    </div>
                                    
                                    <h4>Detection Parameters</h4>
                                    <ul>
                                        <li><strong>TLT (Traceline Thickness)</strong>: Width of vertical trace lines in pixels. Usually 1 pixel (increase for thick traces).</li>
                                        <li><strong>HLT (Timeline Thickness)</strong>: Height of horizontal time lines in pixels. Usually 4-8 pixels.</li>
                                    </ul>
                                    
                                    <h4>Advanced Parameters</h4>
                                    <p><em>For most images, you can leave these at default values.</em></p>

                                        <ul>
                                            <li><strong>HE (Horizontal Erode)</strong>: Controls how aggressively horizontal features are removed. Increase if timelines are not properly isolated. Usually 100 px or more.</li>
                                            <li><strong>BDB (Baseline Detection Beginning)</strong>: Starting row for trace detection, measured from the top edge in pixels.</li>
                                            <li><strong>BDE (Baseline Detection End)</strong>: Ending row for trace detection, measured from top.</li>
                                            <li><strong>BFT (Baseline Filter Threshold)</strong>: Controls how strictly the software filters out duplicate traces (percentage, 0-100). Default value 80%.</li>
                                        </ul>
                                </div>
                                
                                <div class="tutorial-section" id="step3-roi">
                                    <h4><i class="fas fa-crop-alt"></i> Step 3: Selecting Region of Interest</h4>
                                    
                                    <p>In this step, you'll mark three corners of your seismic image to define the area to be digitized. The software will correct for any skew or distortion in the image.</p>
                                    
                                        <ol>
                                            <li>After setting parameters, you'll be automatically taken to the ROI Selection tab</li>
                                            <li>Your image will be displayed with a prompt to select three corner points</li>
                                            <li>Use the <strong>magnifier button</strong> <i class="fas fa-search-plus"></i> to zoom into the <b>top-left</b> corner of the seismic section</li>
                                            <li>Click the <b>"Top-left (1) button"</b>, then click on the desired point of your seismic section</li>

                                            <div class="screenshot" style="max-width: 300px; margin: 1.5rem auto;">
                                                <img src="images/sr_topleft.png" alt="Top-left Point Selection" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                                <p class="caption">Selection of the top-left point (red)</p>
                                            </div>

                                            <li>Use the <b>Home button <i class="fas fa-home"></i> </b> to return to the full seismic section view </li>
                                            <li>Use the <b>magnifier button</b> <i class="fas fa-search-plus"></i> to zoom in the <b>top-right</b> corner, select the (2) button and click in the the desired point location </li>
                                            <li> Repeat for the <b>bottom-left</b> corner</li>
                                            <li>The fourth corner will be calculated automatically</li>
                                            <li>The selected ROI will be used for cropping and rotating the seismic section</li>
                                            <li>Verify the result and click "Accept"</li>
                                            <li>Click "Next" to proceed to the Digitization tab</li>
                                        </ol>

                                    <div class="screenshot" style="max-width: 800px; margin: 1.5rem auto;">
                                        <img src="images/sr_roi.png" alt="Region of Interest Selection" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Region of interest selection and image rectification completed</p>
                                    </div>
                                    

                                    <div class="info-box info-box--note">
                                        <i class="fas fa-info-circle"></i> <strong>Note</strong>: ROI points will be saved in the ROI folder and can be automatically reused when digitizing the same section in the future.
                                    </div>

                                </div>

                                <div class="tutorial-section" id="step4-processing">
                                    <h4><i class="fas fa-cogs"></i> Step 4: Processing</h4>
                                    
                                    <p>After confirming your ROI selection, you'll be taken to the Digitization tab where you can start the automatic processing of your image.</p>
                                    
                                        <ol>
                                            <li>Click the "Start Digitization" button to begin processing</li>
                                            <li>Monitor the console for information on each processing step</li>
                                            <li>When prompted for coordinate assignment, select the correct CDP direction</li>
                                            <li>Once processing is complete, you can verify the processing steps in the visualization window</li>
                                        </ol>
                                                                        
                                    <p>SEGYRecover performs these processing steps automatically:</p>                                   
                                        
                                    <h5>1. Timeline Detection and Removal</h5>
                                    <ul>
                                        <li>Isolates horizontal timeline marks</li>
                                        <li>Removes timelines from the original image</li>
                                    </ul>

                                    <div class="screenshot" style="max-width: 600px; margin: 1.5rem auto; display: flex; gap: 10px; justify-content: center;">
                                        <div style="flex: 1;">
                                            <img src="images/sr_timeline_fail.png" alt="Timeline Detection Failure Example" style="display: block; width: 100%; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption" style="text-align: center;">Timelines incorrectly isolates due to a HE parameter too low (HE=200)</p>
                                        </div>
                                        <div style="flex: 1;">
                                            <img src="images/sr_timeline_ok.png" alt="Timeline Detection Success Example" style="display: block; width: 100%; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption" style="text-align: center;">Timelines correctly isolated (HE=600)</p>
                                        </div>                                        
                                    </div>
                          

                                    
                                    <h5>3. Baseline Detection</h5>
                                    <ul>
                                        <li>Identifies vertical trace lines</li>
                                        <li>Shows a verification window of the seismic section without timelines and with baselines overlay in green</li>
                                    </ul>
                                
                                    <div class="screenshot" style="max-width: 350px; margin: 1.5rem auto;">
                                        <img src="images/sr_baselines.png" alt="Trace Baseline Detection" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Trace baseline position overlay in green over the seismic section without timelines</p>
                                    </div>
                                
                                    <h5>4. Amplitude Extraction</h5>
                                    <ul>
                                        <li>Extracts amplitude values between detected baselines by counting the number of black pixels per row</li>
                                        <li>Processing methods after raw amplitude extraction:
                                            <ul>
                                                <li>Zero-values are assigned a new value equal to -(median) of each trace</li>
                                                <li>Handles clipped values using Akima interpolation for natural curve restoration</li>
                                                <li>Smooths the curve with a moving average</li>
                                            </ul>
                                        </li>
                                    </ul>

                                    <div class="screenshot" style="max-width: 700px; margin: 1.5rem auto;">
                                        <img src="images/sr_amp.png" alt="Amplitude Extraction Process" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Steps performed for amplitude extraction</p>
                                    </div>
                                
                                    <h5>5. Data Processing</h5>
                                    <ul>
                                        <li>Resamples to the specified sample rate</li>
                                        <li>Applies bandpass filtering using the specified frequency band</li>
                                    </ul>
                                
                                    <h5>6. SEG-Y Creation</h5>
                                    <ul>
                                        <li>A "Coordinates Assignment" dialog appears to select CDP order (increasing or decreasing from left to right)</li>
                                        <li>The application interpolates coordinates for all traces</li>
                                        <li>Creates a standard SEG-Y file with properly populated headers including:
                                            <ul>
                                                <li>Sample interval</li>
                                                <li>Number of traces and samples</li>
                                                <li>Frequency filter parameters</li>
                                                <li>Trace coordinates</li>
                                            </ul>
                                        </li>
                                        <li>The SEG-Y file is automatically saved in the SEG-Y folder</li>
                                    </ul>
                                    

                                    <div class="screenshot" style="max-width: 400px; margin: 1.5rem auto;">
                                        <img src="images/sr_cdp.png" alt="CDP Direction Assignment Dialog" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Dialog for assigning the direction of CDP increase</p>
                                    </div>

                                </div>
                                
                                <div class="tutorial-section" id="step5-results">
                                    <h4><i class="fas fa-check-circle"></i> Step 5: Results</h4>
                                    
                                    <p>When processing is complete, you'll be taken to the Results tab where you can view and analyze your digitized SEG-Y data.</p>
                                    
                                        <ol>
                                            <li>The digitized SEG-Y section is displayed in the main view</li>
                                            <li>An amplitude spectrum graph shows the frequency content of the data</li>
                                            <li>Check the console for a summary of the digitization results</li>
                                            <li>Click "Start New Line" if you want to process another image</li>
                                        </ol>
                                    
                                    <div class="screenshot" style="max-width: 800px; margin: 1.5rem auto;">
                                        <img src="images/sr_results.png" alt="SEGYRecover Processed Results View" style="display: block; width: 100%; margin: 0 auto; border: 1px solid lightgrey; border-radius: 8px;">
                                        <p class="caption">Window displaying the final digitized SEG-Y and its amplitude spectrum</p>
                                    </div>
                                    
                                    
                                    <h5>Accessing Your SEG-Y Files</h5>
                                    <p>You can easily access your processed SEG-Y files in several ways:</p>
                                    <ul>
                                        <li>Click "File → Open Data Directory" from the menu bar, then navigate to the SEG-Y folder</li>
                                        <li>The file location is shown in the console panel</li>
                                        <li>SEG-Y files can be directly loaded into interpretation software like OpendTect, Petrel, Leapfrog or Kingdom</li>
                                    </ul>
                                </div>
                                
                                <div class="tutorial-section" id="menu-options">
                                    <h4><i class="fas fa-bars"></i> Menu Options</h4>
                                    
                                    <p>SEGYRecover provides several menu options to help you manage your data and get help:</p>
                                    
                                    <h5>File Menu</h5>
                                    <ul>
                                        <li><strong>Set Data Directory</strong>: Change where SEGYRecover stores your data and configuration files</li>
                                        <li><strong>Open Data Directory</strong>: Open your current data folder in File Explorer</li>
                                    </ul>
                                    
                                    <h5>Help Menu</h5>
                                    <ul>
                                        <li><strong>HOW TO</strong>: Opens a help dialog with step-by-step instructions</li>
                                        <li><strong>About</strong>: Shows information about the software version and developers</li>
                                    </ul>
                                    
                                </div>
                                
                                <div class="tutorial-section" id="troubleshooting">
  <h4><i class="fas fa-exclamation-triangle"></i> Troubleshooting</h4>
  
  <p>Use this guide to resolve common issues you might encounter when using SEGYRecover:</p>
  
  <div class="issues-container">
    <div class="issue-item">
      <h5>Poor timeline detection</h5>
      <ul>
        <li>Increase HE (Horizontal Erode) parameter if timelines aren't being fully removed</li>
        <li>Make sure your ROI selection correctly aligns timelines horizontally</li>
      </ul>
    </div>
    
    <div class="issue-item">
      <h5>Missing or extra baselines</h5>
      <ul>
        <li>Adjust TLT (Trace Line Thickness) to match your image's trace width</li>
        <li>Modify BDB and BDE to focus detection on cleaner parts of the image</li>
        <li>Increase BFT to filter out false detections</li>
      </ul>
    </div>
    
    <div class="issue-item">
      <h5>Noisy or spiky data</h5>
      <ul>
        <li>Adjust frequency filter parameters (F1-F4) to better match your data</li>
        <li>Try a narrower frequency band to reduce noise</li>
        <li>Check if your ROI includes non-seismic elements</li>
      </ul>
    </div>
    
    <div class="issue-item">
      <h5>Coordinate assignment issues</h5>
      <ul>
        <li>Verify your geometry file format (CDP, X, Y values)</li>
        <li>Ensure CDP numbers in the geometry file match those in your parameters</li>
        <li>Use a consistent coordinate system (UTM recommended)</li>
      </ul>
    </div>
  </div>
  
  <h5>Log Files</h5>
  <p>SEGYRecover creates log files for each session in the <code>LOG</code> folder. These contain process details and error messages that can help diagnose issues.</p>
</div>

<div class="tutorial-section" id="faq">
  <h4><i class="fas fa-question-circle"></i> Frequently Asked Questions</h4>

  <div class="faq-container">
    <div class="faq-item">
      <h5>How can I improve the quality of my results?</h5>
      <ul>
        <li>Start with the highest resolution scan possible</li>
        <li>Experiment with different frequency filter settings</li>
        <li>Ensure time lines are properly detected and removed</li>
        <li>Make your ROI selection precise</li>
      </ul>
    </div>
    
    <div class="faq-item">
      <h5>Can I process multiple images in batch mode?</h5>
      <p>Currently, SEGYRecover processes one image at a time. Process them sequentially using "Start New Line" after each completion. Save parameters for similar images to speed up your workflow.</p>
    </div>
    
    <div class="faq-item">
      <h5>What if I don't have geometry data?</h5>
      <p>You can still digitize the image, but the SEG-Y will not have real-world coordinates. You can create a placeholder file with first and last CDP numbers and arbitrary coordinates.</p>
    </div>
    
    <div class="faq-item">
      <h5>Can I use color seismic images?</h5>
      <p>SEGYRecover works best with black and white images. Convert color seismic images to grayscale or black/white before processing for optimal results.</p>
    </div>
  </div>
</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <a href="#detailed-tutorial" class="back-to-top" aria-label="Back to top">
            <i class="fas fa-arrow-up"></i>
        </a>
    </main>
    
    <footer id="footer-component"></footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load components
            fetch('components/header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-component').innerHTML = data;
                });
                
            fetch('components/navigation.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('nav-component').innerHTML = data;
                });
                
            fetch('components/footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-component').innerHTML = data;
                });
                
            // Toggle for mobile TOC
            const tocHeading = document.querySelector('.toc-container h3');
            const tocContainer = document.querySelector('.toc-container');
            
            if (tocHeading && window.innerWidth <= 1024) {
                tocHeading.addEventListener('click', function() {
                    tocContainer.classList.toggle('collapsed');
                });
            }
            
            // Enhanced sticky TOC functionality
            const tocElement = document.querySelector('.sticky-toc');
            const tocList = document.querySelector('.toc-list');
            
            if (tocElement) {
                // Add progress bar to TOC
                const progressBar = document.createElement('div');
                progressBar.className = 'progress-bar';
                tocElement.prepend(progressBar);
            }
            
            if (tocList) {
                // Add indicator for current position
                const tocIndicator = document.createElement('div');
                tocIndicator.className = 'toc-indicator';
                tocList.parentNode.appendChild(tocIndicator);
            }
            
            // Smooth scrolling for TOC links
            const tocLinks = document.querySelectorAll('.toc-list a');
            
            tocLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 20,
                            behavior: 'smooth'
                        });
                        
                        // Update URL hash without jumping
                        history.pushState(null, null, targetId);
                    }
                });
            });
            
            // Highlight active section on scroll and update progress
            const tutorialSections = document.querySelectorAll('.tutorial-section');
            const tutorialContent = document.querySelector('.tutorial-content');
            
            function updateTocState() {
                let currentActiveSection = '';
                let activeTocItem = null;
                
                const scrollPosition = window.scrollY;
                const viewportHeight = window.innerHeight;
                const scrollBottom = scrollPosition + viewportHeight;
                
                // Calculate scroll progress for progress bar
                const scrollableHeight = document.documentElement.scrollHeight - viewportHeight;
                const scrollProgress = (scrollPosition / scrollableHeight) * 100;
                if (progressBar) {
                    progressBar.style.width = scrollProgress + '%';
                }
                
                // Find current active section
                tutorialSections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    
                    if (scrollPosition >= sectionTop - 100 && 
                        scrollPosition < sectionTop + sectionHeight - 100) {
                        currentActiveSection = '#' + section.id;
                    }
                });
                
                // Update TOC highlighting
                tocLinks.forEach(link => {
                    if (link.getAttribute('href') === currentActiveSection) {
                        link.parentElement.classList.add('active');
                        activeTocItem = link.parentElement;
                    } else {
                        link.parentElement.classList.remove('active');
                    }
                });
                
                // Update indicator position
                if (activeTocItem && tocIndicator) {
                    tocIndicator.classList.add('visible');
                    tocIndicator.style.top = (activeTocItem.offsetTop + 4) + 'px';
                    tocIndicator.style.height = (activeTocItem.offsetHeight - 8) + 'px';
                } else if (tocIndicator) {
                    tocIndicator.classList.remove('visible');
                }
            }
            
            window.addEventListener('scroll', updateTocState);
            window.addEventListener('resize', updateTocState);
            
            // Back to top button functionality
            const backToTopButton = document.querySelector('.back-to-top');
            
            function toggleBackToTopButton() {
                if (window.scrollY > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            }
            
            window.addEventListener('scroll', toggleBackToTopButton);
            
            if (backToTopButton) {
                backToTopButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
            
            // Initial call to setup TOC state
            setTimeout(updateTocState, 500);
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add collapsible functionality to tutorial sections
            const sections = document.querySelectorAll('.tutorial-section');
            
            sections.forEach(section => {
                const heading = section.querySelector('h4');
                const content = document.createElement('div');
                
                // Move all content after the heading into the content div
                let nextElement = heading.nextElementSibling;
                while (nextElement) {
                    const current = nextElement;
                    nextElement = nextElement.nextElementSibling;
                    content.appendChild(current);
                }
                
                // Add content div to the section
                content.className = 'tutorial-content-collapsible';
                section.appendChild(content);
                
                // Add expand/collapse indicator to heading
                heading.classList.add('collapsible-heading');
                heading.innerHTML += '<span class="collapse-indicator"><i class="fas fa-chevron-down"></i></span>';
                
                // Add click event to heading
                heading.addEventListener('click', function() {
                    this.classList.toggle('collapsed');
                    
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                    
                    // Toggle indicator
                    const indicator = this.querySelector('.collapse-indicator i');
                    indicator.classList.toggle('fa-chevron-down');
                    indicator.classList.toggle('fa-chevron-right');
                });
                
                // Start expanded by default
                content.style.maxHeight = content.scrollHeight + "px";
            });
        });
    </script>
</body>
</html>